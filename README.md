# AlexandercheOTUS_microservices
AlexandercheOTUS microservices repository
-----------------------------------------------------------------------------------------------------------------------------------------------------------
#### Домашнее задание №12-13
#### "Установка Docker, запуск контейнера на локальной машине, выполнение команд внутри контейнера, создание образа контейнера на основе запущенного". 
#### "Запуск VM с установленным Docker Engine при помощи Docker Machine. Написание Dockerfile и сборка образа с тестовым приложением. Сохранение образа на DockerHub"
##### Docker установлен локально и на виртуалке в yandex cloud, контейнеры запускаются, создан контейнер reddit, запушен на docker hub.
-----------------------------------------------------------------------------------------------------------------------------------------------------------
#### Домашнее задание №14 
#### "Разбиение приложения на несколько микросервисов. Выбор базового образа. Подключение volume к контейнеру" 
##### Поставил hadolint. Распаковал архив с подготовленными компонентами приложения. Dockerfile для post-py, comment и ui. Сборка контейнеров. Запуск контейнеров в bridge-сети с именем reddit. Оптимизация Dockerfile для ui. Запуск контейнера БД с volume reddit_db. hadolint-проверка всех Dockerfile и замена в них ADD на COPY.
-----------------------------------------------------------------------------------------------------------------------------------------------------------
#### Домашнее задание №15
#### "Практика работы с основными типами Docker сетей. Декларативное описание Docker инфраструктуры при помощи Docker Compose"
##### Запустил контейнер joffotron/docker-net-tools в сетях none и host. Запустил контейнеры проекта в bridge-сети reddit (без network-alias не работает). Запустил контейнеры проекта в 2х bridge-сетях (back_net для данных и front_net для web-сервера). Поставил docker-compose. Собрал и запустил контейнеры проекта из docker-compose.yml. Параметризировал переменными окружения docker-compose.yml (пример в .env.example).
##### Префиксы docker-compose делает по имени каталога, поменять можно по docker-compose --project-name reddit up -d
-----------------------------------------------------------------------------------------------------------------------------------------------------------
#### Домашнее задание №16
#### "Gitlab CI. Построение процесса непрерывной интеграции"
##### Создана виртуалка в яндекс для контейнеров. Запущен контейнер с Gitlab. Gitlab настроен (пароль root, отключена регистрация, добавлены группа и проект). Запущен контейнере с runner. Склонирован код приложения reddit. Пайплайн описан в .gitlab-ci.yml: build-test-deploy, build-test-review (в dev-среду и вручную в stage и prod), deploy в stage и prod по git tag, динамические env для каждой ветки.
-----------------------------------------------------------------------------------------------------------------------------------------------------------
#### Домашнее задание №17
#### "Создание и запуск системы мониторинга Prometheus"
##### Создана виртуалка в яндекс для контейнеров. Запущен контейнер с prometheus. Изменена структура файлов и каталогов. Добавлены Dockerfile для контейнера prometheus и конфиг prometheus.yml с endpoint-ами. Собран контейнер prometheus. В каталоге /src собраны скриптами docker_build.sh контейнеры с ui, post-py и comment. В docker-compose.yml добавлен prometheus, контейнеры с сервисами подняты. В docker-compose.yml добавлен node-exporter, в prometheus.yml добавлен для него endpoint. Контейнер prometheus пересобран, docker-compose перезапущен. Контейнеры запушены в dockerhub: [ui](https://hub.docker.com/repository/docker/paradoxalien/ui), [comment](https://hub.docker.com/repository/docker/paradoxalien/comment), [post](https://hub.docker.com/repository/docker/paradoxalien/post) и [prometheus](https://hub.docker.com/repository/docker/paradoxalien/prometheus).
-----------------------------------------------------------------------------------------------------------------------------------------------------------
